package chaussia.shared.gebaeude;

import java.io.Serializable;

public abstract class AbstractGebaeude implements Serializable, Gebaeude
{

    private static final long serialVersionUID = 1L;

    private int               unterhaltskosten, bauzeit, upgradedauer, stufe = 0;

    public AbstractGebaeude()
    {
        this(0);
    }
    
    public AbstractGebaeude(int unterhaltskosten)
    {
        this.unterhaltskosten = unterhaltskosten;
        this.resetBauzeit();
        this.resetUpgradedauer();
    }

    @Override
    public int getUnterhaltskosten()
    {
        // unterhalt * (2 ^ stufe) = unterhalt * (1,2,4,8,16,...) [exponentielles Wachstum]
        return (int) (this.unterhaltskosten * Math.pow(2, this.getStufe()));
    }

    @Override
    public void reduziereBauzeit()
    {
        if (this.bauzeit > 0)
        {
            this.bauzeit--;
        }
    }

    @Override
    public void reduziereUpgradeDauer()
    {
        if (this.upgradedauer > 0)
        {
            if (this.upgradedauer <= 1)
            {
                this.stufe++;
            }
            this.upgradedauer--;
        }
    }

    @Override
    public int getUpgradedauer()
    {
        return this.upgradedauer;
    }

    @Override
    public int getBauzeit()
    {
        return this.bauzeit;
    }

    @Override
    public int getStufe()
    {
        return this.stufe;
    }

    @Override
    public void setStufe(int stufe)
    {
        this.stufe = stufe;
    }

}
