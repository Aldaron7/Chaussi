package chaussia.shared.gebaeude.produktion;

import chaussia.shared.einheiten.produktion.Arbeiter;
import chaussia.shared.gebaeude.Gebaeude;
import chaussia.shared.rohstoffe.Rohstoff;

public abstract class AbstractProduktionsgebaeude extends Gebaeude implements Produktionsgebaeude
{
    private static final long serialVersionUID = 1L;
    private int               ertrag           = 10;
    private boolean           arbeitet, besetzt = false;

    public AbstractProduktionsgebaeude()
    {
    }

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#isBesetzt()
     */
    @Override
    public boolean isBesetzt()
    {
        return this.besetzt;
    }

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#setBesetzt(boolean)
     */
    @Override
    public void setBesetzt(boolean besetzt)
    {
        this.besetzt = besetzt;
    }

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#getErtrag()
     */
    @Override
    public int getErtrag()
    {
        // lineare Entwicklung proportional zu stufe
        if (this.getBauzeit() <= 0 && this.isBesetzt() && this.isArbeitet())
        {
            return this.ertrag * (this.getStufe() + 1);
        }
        return 0;
    }

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#setErtrag(int)
     */
    @Override
    public void setErtrag(int ertrag)
    {
        this.ertrag = ertrag;
    }

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#isArbeitet()
     */
    @Override
    public boolean isArbeitet()
    {
        return this.arbeitet;
    }

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#setArbeitet(boolean)
     */
    @Override
    public void setArbeitet(boolean arbeitet)
    {
        this.arbeitet = arbeitet;
    }

    @Override
    public int getUnterhaltskosten()
    {
        if (this.isArbeitet())
        {
            return super.getUnterhaltskosten();
        }
        return 0;
    }

    @Override
    public Gebaeude upgrade()
    {
        this.setUpgradedauer(3);
        return this;
    }

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#getRohstoff()
     */
    @Override
    public abstract Rohstoff getRohstoff();

    /* (non-Javadoc)
     * @see chaussia.shared.gebaeude.produktion.Produktionsgebaeude#getArbeiter()
     */
    @Override
    public abstract Arbeiter.Typ getArbeiter();
}
